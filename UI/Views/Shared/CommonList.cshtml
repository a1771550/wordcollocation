@using UI.Helpers
@using UI.Models.Abstract
@model UI.Models.CommonViewModel

@{
	ViewBag.Title = "List";
	Layout = "~/Views/Shared/_Layout.cshtml";
	ViewDataDictionary dict = new ViewDataDictionary();
	dict.Add("Entity", Model.Entity);
	string action = User.IsInRole("Admin") ? "IndexForAdmin" : "IndexForEditor";
}

<h2>@Model.Entity</h2>

<p>
	@Html.ActionLink("Create", "Edit", Model.Entity.ToString(), new { id = "0" }, null)
</p>
<table class="table">
	<tr>
		<th>
			Entry
		</th>
		<th>
			EntryZht
		</th>
		<th>EntryZhs</th>
		<th>
			EntryJap
		</th>
		<th></th>
	</tr>

	@switch (Model.Entity)
	{
		case WcEntity.Pos:
			@Html.Partial("_CommonListItemsPartial", Model.PosList, dict)
			break;
		case WcEntity.ColPos:
			@Html.Partial("_CommonListItemsPartial", Model.ColPosList, dict)
			break;
		case WcEntity.Word:
			@Html.Partial("_CommonListItemsPartial", Model.WordList, dict)
			break;
		case WcEntity.ColWord:
			@Html.Partial("_CommonListItemsPartial", Model.ColWordList, dict)
			break;
	}
</table>

@if (Model.Entity != WcEntity.Pos && Model.Entity != WcEntity.ColPos)
{
	<div class="pagination">
		@Html.PageLinks(Model.PagingInfo, x => Url.Action(action, Model.Entity.ToString(), new { page = x }))
	</div>

}