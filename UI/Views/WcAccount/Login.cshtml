@using UI.Models
@model WcLoginViewModel

@{
	ViewBag.Title = Resources.LogOn;
}

<div class="span4">
	<h3>@ViewBag.Title</h3>

	@{
		if (ViewBag.ErrorList != null && ViewBag.ErrorList.Count > 0)
		{
			<ul>
				@foreach (var error in (List<ModelError>)ViewBag.ErrorList)
				{
					<li><span class="text-danger">Exception: @error.Exception</span>&nbsp;<span class="text-danger">ErrorMessage: @error.ErrorMessage</span></li>
				}
			</ul>
		}
	}

	<section id="loginForm">

		@using (Html.BeginForm("Login", "WcAccount", new { ViewBag.ReturnUrl }, FormMethod.Post, new { @class = "login-form", role = "form", id = "login-form" }))
		{
			@Html.AntiForgeryToken()

			@Html.ValidationSummary(false)


			<div class="form-group">
				@Html.TextBoxFor(m => m.UserNameEmail, new { placeholder = Resources.UserNameEmailForLogin, @class = "text", @autocomplete = "off" })
			</div>

			<div class="form-group">
				@Html.PasswordFor(m => m.Password, new { placeholder = Resources.Password, autocomplete = "off", @class = "text" })
			</div>
			<div class="form-group">
				<div class="checkbox">
					@Html.CheckBoxFor(m => m.RememberMe, new { style = "position:relative; top:.5em;" })
					@Html.LabelFor(m => m.RememberMe)
				</div>
			</div>
			<div class="form-group">
				<button type="submit" style="vertical-align: text-bottom;">@Resources.LogOn</button>
				
				@Html.ActionLink(Resources.ForgetPassword, "ForgetPassword", "WcAccount", new{style="padding-left:1em;"})
			</div>
			<p>
				@Html.ActionLink(Resources.RegisterAsNewUser, "Register")
			</p>
		}
	</section>

</div>

@section Scripts {
	@Scripts.Render("~/bundles/jqueryval")
}